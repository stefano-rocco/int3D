<html>
	<head>
		<title>Ex 3.1</title>
		<style>
		body {
			font-family: Monospace;
			background-color: #f0f0f0;
			margin: 0px;
			overflow: hidden;
		}
		
		canvas { 
			width: 100%; 
			height: 100%;
		}
		</style>
		<script src="../../lib/three.min.js"></script>
		<script src="../../lib/stats.min.js"></script>
	</head>
	<body>
		
		<script>

			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize(window.innerWidth, window.innerHeight);
			renderer.setClearColor(0xf0f0f0);
			document.body.appendChild(renderer.domElement);

			var quadGeometry = new THREE.Geometry();
			quadGeometry.vertices.push(new THREE.Vector3(-.5, -.5, .5));
			quadGeometry.vertices.push(new THREE.Vector3(-.5, .5, .5));
			quadGeometry.vertices.push(new THREE.Vector3(.5, -.5, .5));
			quadGeometry.vertices.push(new THREE.Vector3(.5, .5, .5));

			quadGeometry.faces.push(new THREE.Face3(1, 0, 2));
			quadGeometry.faces.push(new THREE.Face3(1, 2, 3));

			var quads = []
			var cube = new THREE.Object3D();
			var colors = [ 0xffffff, 0xffff00,
						   0xff0000, 0xff8000,
						   0x00ff00, 0x0000ff ];

			for (var i = 0; i < 6; i++) {
				quads[i] = new THREE.Mesh(
					quadGeometry, 
					new THREE.MeshBasicMaterial({ color: colors[i] })
					);
				quads[i].rotation.y = i%2 * Math.PI;	// rotate on y to form couples, so that
														// x-rotation (problematic) won't affect
														// the first one later on
				var j = Math.floor(i/2);
				var rotVector = quads[i].rotation.toVector3();
				rotVector.setComponent(j, rotVector.getComponent(j) + Math.PI/2);
				quads[i].rotation.setFromVector3(rotVector);

				cube.add(quads[i]);
			}

			scene.add(cube);

			stats = new Stats();
			stats.domElement.style.position = 'absolute';
			stats.domElement.style.top = '0px';
			document.body.appendChild(stats.domElement);

			camera.position.z = 5;
			
			function render() {
				requestAnimationFrame(render);
				
				cube.rotation.y += 0.01;
				cube.rotation.z += 0.005;

				stats.update();
				
				renderer.render(scene, camera);
			}
			render();

		</script>
	</body>
</html>